---
import Icon from "../common/Icon.astro";
import { HomeFaqsData } from "../constants/home";
---

<section class="bg-secondary px-5 lg:px-[12.188rem] py-[6.25rem]">
<div class="xl:container">
<h2 class="font-medium text-center text-white leading-[2.75rem] text-[2.5rem] lg:leading-[5rem] lg:text-[4.563rem] pb-10">{HomeFaqsData.title}</h2>
<div class="flex flex-col gap-5">
    {HomeFaqsData.content.map((contnet,index)=>(
        <div id={`${index}faq`} class="faq-header flex items-center justify-between">
            <h2 class="cursor-pointer font-medium text-lg leading-6 lg:text-xl lg:leading-7 text-white">{contnet.title}</h2>
            <Icon iconName="stat_minus_1" classNames="cursor-pointer text-white text-[1.5rem] text-white faq-icon"/>
        </div>
        <div class="hidden">
           <h3 class=" text-white opacity-[60%] font-normal text-base lg:text-lg leading-6 lg:leading-7">{contnet.desc}</h3> 
        </div>
        <div class="border-b border-[#D9D9D9] pt-5 lg:pt-5"></div>
    ))}
</div>
</div>
</section>

<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
      const allContents = document.querySelectorAll('.faq-content');
      allContents.forEach(content => {
        content.classList.add('hidden');
      });
  
      const faqHeaders = document.querySelectorAll('.faq-header');
      
      faqHeaders.forEach(header => {
        header.addEventListener('click', () => {
          const content = header.nextElementSibling;
          const icon = header.querySelector('.faq-icon');
          
          faqHeaders.forEach(otherHeader => {
            if (otherHeader !== header) {
              const otherContent = otherHeader.nextElementSibling;
              const otherIcon = otherHeader.querySelector('.faq-icon');
              otherContent.classList.add('hidden');
              otherIcon.textContent = 'keyboard_arrow_down';
            }
          });
  
          content.classList.toggle('hidden');
          icon.textContent = content.classList.contains('hidden') 
            ? 'keyboard_arrow_down' 
            : 'keyboard_arrow_up';
        });
      });
    });
  </script>