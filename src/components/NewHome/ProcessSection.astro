---
import { Image } from "astro:assets";

type ProcessItem = {
  step: number;
  title: string;
  description: string;
  image: ImageMetadata;
};

type Process = {
  title: string;
  items: ProcessItem[];
};

interface Props {
  processData: Process;
}

const { processData } = Astro.props as Props;
---

<section class="bg-[#111827] text-white py-20 md:py-40">
  <div class="xl:container px-4">
    <div class="text-center max-w-[1240px]">
      <h2 class="text-3xl md:text-[44px] font-bold leading-tight">
        {processData.title}
      </h2>
    </div>
    <div class="mt-16 md:mt-[120px] flex flex-col md:flex-row gap-[72px] items-start">
      {
        processData.items.map((card, index) => (
          <div class="relative">
            <div class="relative rounded-xl overflow-hidden">
              <Image
                src={card.image}
                alt={card.title}
                class="w-full object-cover"
              />
              <div class="absolute top-4 left-4 w-8 h-8 rounded-full bg-[#CC0000] text-white text-sm font-semibold flex items-center justify-center shadow-md">
                {card.step}
              </div>
            </div>
            <div class="mt-10">
              <h3 class="text-lg md:text-xl font-bold">
                {card.title}
              </h3>
              <p class="text-sm md:text-base text-neutral-200 mt-4 leading-relaxed">
                {card.description}
              </p>
            </div>
            {/* CONNECTOR */}
            {index < processData.items.length - 1 && (
              <div class="hidden md:flex absolute top-1/2 right-[-56px] -translate-y-1/2 items-center">
                {/* LINE */}
                <div class="w-8 h-[2px] bg-[#CC0000]" />
                {/* DOT */}
                <div class="w-2 h-2 bg-[#CC0000] rounded-full" />
              </div>
            )}
          </div>
        ))
      }
    </div>
  </div>
</section>
